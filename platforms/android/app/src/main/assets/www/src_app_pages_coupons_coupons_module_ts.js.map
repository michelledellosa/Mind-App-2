{"version":3,"file":"src_app_pages_coupons_coupons_module_ts.js","mappings":"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","sources":["./src/app/pages/coupons/coupons-routing.module.ts","./src/app/pages/coupons/coupons.module.ts","./src/app/pages/coupons/coupons.page.ts","./src/app/pages/coupons/coupons.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CouponsPage } from './coupons.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CouponsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CouponsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { LazyLoadImageModule } from 'ng-lazyload-image';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { CouponsPageRoutingModule } from './coupons-routing.module';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\nimport { CouponsPage } from './coupons.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    CouponsPageRoutingModule,\r\n    ComponentsModule,\r\n    LazyLoadImageModule,\r\n    SharedModule\r\n  ],\r\n  declarations: [CouponsPage]\r\n})\r\nexport class CouponsPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { AgmService } from 'src/app/services/agm.service';\r\nimport { CategoriesService } from 'src/app/services/categories.service';\r\nimport { CommonService } from 'src/app/services/common/common.service';\r\nimport { CouponsService } from 'src/app/services/coupons.service';\r\nimport { LoginService } from 'src/app/services/login.service'\r\n\r\n@Component({\r\n  selector: 'app-coupons',\r\n  templateUrl: './coupons.page.html',\r\n  styleUrls: ['./coupons.page.scss'],\r\n})\r\nexport class CouponsPage implements OnInit {\r\n  // title:string='Cupones';\r\n  coupons: any = [];\r\n  stores: any = [];\r\n  storeName: string;\r\n  _loginServices: any\r\n\r\n  constructor(\r\n    public commonService: CommonService,\r\n    public agmService: AgmService,\r\n    private categoriesServices: CategoriesService,\r\n    private couponServices: CouponsService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private loginServices: LoginService\r\n  ) {\r\n    this._loginServices = this.loginServices.isLogged()\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.loginServices.isLogged() == true) {\r\n      this.couponServices.getCoupons()\r\n        .subscribe(res => {\r\n          // si existe el parametro Id_Asignado en la posicion 0,\r\n          //no existe listado de cupones para este usuario\r\n          if (res.result[0].Id_Asignado == 'El Cupon con ID  NO existe en la base de datos o esta Des Habilitado') {\r\n            return this.coupons = res.result[0]\r\n          } else {\r\n            return this.coupons = res.result;\r\n          }\r\n        });\r\n    } else {\r\n      return\r\n    }\r\n  }\r\n  //filtrar id de la tienda para obtener el nombre a mostrar en el card\r\n  filterStore(id) {\r\n    let temp: any = [];\r\n    this.categoriesServices.getCategories()\r\n      .subscribe(res => {\r\n        if (!res) { return }\r\n        this.stores = res.result;\r\n      })\r\n    temp = this.stores.find(res => {\r\n      return res.Id == id\r\n    });\r\n\r\n    //console.log('tem  = '+JSON.stringify(temp))\r\n    //this.storeName = temp.Establecimiento;\r\n    return this.storeName\r\n  }\r\n\r\n  couponDetails(id: number) {\r\n    this.router.navigate(['/pages/coupons/coupon-details/' + id])\r\n  }\r\n\r\n}\r\n","export default \"<app-header2 [title]=\\\"'Cupones'\\\" [go]=\\\"'pages/coupon'\\\"></app-header2>\\r\\n\\r\\n<ion-content>\\r\\n  <div *ngIf=\\\"_loginServices==true && !coupons.Id_Asignado; else couponsExist\\\">\\r\\n    <ion-card *ngFor=\\\"let coupon of coupons \\\" (click)='couponDetails(coupon.Id_Cupones)'>\\r\\n      <ion-card-content>\\r\\n        <div style=\\\"margin: 0 auto;height: 40%;width: 40%;\\\">\\r\\n          <img [defaultImage]=\\\"commonService.defaultImage\\\" [lazyLoad]=\\\"coupon.Foto\\\">\\r\\n        </div>\\r\\n        <label>{{coupon.Nombre_del_Cupon}}</label>\\r\\n        <div>\\r\\n          <label>{{filterStore(coupon.Tienda)}}</label>\\r\\n        </div>\\r\\n        <div>\\r\\n          <label>Descripcion: {{coupon.Descripcion}}</label>\\r\\n        </div>\\r\\n        <div>\\r\\n          <ion-row>\\r\\n            <ion-col size=\\\"6\\\">\\r\\n              <label style=\\\"text-align: left;\\\">Inicio: {{coupon.Fecha_inicio}}</label>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"6\\\">\\r\\n              <label style=\\\"text-align: left;\\\">Finaliza: {{coupon.Fecha_final}}</label>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </div>\\r\\n      </ion-card-content>\\r\\n    </ion-card>\\r\\n  </div>\\r\\n\\r\\n  <ng-template #couponsExist>\\r\\n    <ion-card>\\r\\n      <ion-card-content>\\r\\n        <div *ngIf=\\\"_loginServices==true && coupons.Id_Asignado;\\\" style=\\\"text-align: center;\\\">\\r\\n          <label> Usted no posee cupones disponibles</label>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"_loginServices==false\\\" style=\\\"text-align: center;\\\">\\r\\n          <label> Inicie sesi√≥n para acceder a sus cupos disponibles</label>\\r\\n        </div>\\r\\n      </ion-card-content>\\r\\n    </ion-card>\\r\\n  </ng-template>\\r\\n\\r\\n</ion-content>\";"],"names":[],"sourceRoot":"webpack:///"}